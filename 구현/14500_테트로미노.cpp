#include<iostream>
#include<algorithm>
#include<vector>
using namespace std;
int tet[19][4][2] = {
{{0,0},{1,0},{2,0},{3,0}},//び
{{0,0},{0,1},{0,2},{0,3}},

{{0,0},{0,1},{1,0},{1,1}},//け

{{0,0},{0,1},{0,2},{1,0}},//い
{{0,2},{1,0},{1,1},{1,2}},
{{0,0},{1,0},{1,1},{1,2}},
{{0,0},{0,1},{0,2},{1,2}},
{{0,0},{1,0},{2,0},{2,1}},
{{0,0},{0,1},{1,1},{2,1}},
{{0,0},{0,1},{1,0},{2,0}},
{{0,1},{1,1},{2,0},{2,1}},

{{0,0},{1,0},{1,1},{2,1}}, //ぉ
{{0,1},{1,0},{1,1},{2,0}},
{{0,1},{0,2},{1,0},{1,1}},
{{0,0},{0,1},{1,1},{1,2}},

{{0,0},{0,1},{0,2},{1,1}}, //で
{{0,1},{1,0},{1,1},{1,2}},
{{0,1},{1,0},{1,1},{2,1}},
{{0,0},{1,0},{1,1},{2,0}} };
int arr[501][501];
int maxx;

int main() {
	ios::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL);
	int n, m;
	cin >> n >> m;
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			cin >> arr[i][j];
		}
	}
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			for (int k = 0; k < 19; k++) {
				int sum = 0;
				for (int l = 0; l < 4; l++) {
					if (arr[tet[k][l][0] + i][tet[k][l][1] + j] == 0)
						break;
					sum += arr[tet[k][l][0] + i][tet[k][l][1] + j];
				}
				maxx = max(maxx, sum);
			}
		}
	}
	cout << maxx;
}